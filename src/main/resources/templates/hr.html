<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" href="../static/layui/css/layui.css"/>
    <title>hr</title>
<style>
 body{
            margin:0px;
            background: #f4f4f4;
            height:100%; 
            overflow-y: scroll;
            min-height:100%;
            box-sizing:border-box;
            padding-bottom: 180px;
            min-width: 1000px;
            position: relative!important;
            display: block;
        }
        header{
            width:100%;
            min-width: 1000px;
            box-shadow: 0 1px 0 0 #ddd;
            height:80px;
            background:#fff;
            margin-bottom: 40px;
        }
        header .top{
            width:1000px;
            margin:0 auto;
            background:url(../static/logo.jpg) no-repeat;
            background-size: 100px 80px;
        }
        header .top h1{
            display:inline-block;
            margin-left:120px;
            line-height: 80px;
        }
        header .top button{
            margin-left:450px;
            margin-top:-10px;
        }
        section{
            
            width:100%;
            margin:0 auto;    
            min-height:600px;
            display:block;
            margin-bottom:30px;           
        }
        section div#container{
            background:#fff;
            width:1000px;
            margin:0 auto
        }
        footer{
            padding-top: 40px;
            height: 100px;
            box-sizing: border-box;
            text-align: center;
            position: absolute;
            bottom: 0;
            width: 100%;
            left: 0;
            background: #444547;
            font-size: 12px;
            min-height: 28px;
            
        }
        footer p{
            color: #777;
            line-height: 24px;
        }
</style>
</head>
<body>
        <header>
            <div class="top">
                <h1>华为 实习生管理信息系统</h1>
                
                <button class="layui-btn" id="sign_out">退出</button>
            </div>
        </header>
        <section>
            <div id="container">
                    <form id="inlineForm" class="layui-form">
                            <fieldset class="layui-elem-field">
                                <legend>搜索</legend>
                                <div class="layui-field-box">
                                    <div class="demoTable">
                                        名称：
                                        <div class="layui-inline">
                                            <input class="layui-input" name="title" 
                                                autocomplete="off">
                                        </div>
                                        <button class="layui-btn" lay-submit lay-filter="province_search"><i class="layui-icon">&#xe615;</i>搜索</button>
                                    </div>
                                </div>
                            </fieldset>
                          </form>
                <table class="layui-hide" id="hr" lay-filter="demo">
                </table>
                <script type="text/html" id="barDemo">
                    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="plan">培养计划</a>
                    <a class="layui-btn layui-btn-xs" lay-event="summary">月度总结</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="message">实习留言</a>
                </script>

            </div>    
    </section>
    <footer>
        <p>
            Copyright
        </p>
    </footer>
      <script src="../static/layui/layui.js"></script>
      <script>
      //注意：折叠面板 依赖 element 模块，否则无法进行功能性操作
      layui.use(['element','table'], function(){
        var element = layui.element,
            table=layui.table;

             //方法渲染，执行一个 table 实例
             
             table.render({
                elem: '#hr'
                ,url: '' //数据接口
                ,page: true //开启分页
                ,cols: [[ //表头
                    {field: 'name', title: '实习生姓名', width:150, align:'center', fixed: 'left'}
                    ,{field: 'job_number', title: '实习生工号',align:'center', width:150}
                    ,{field: 'teacher_name', title: '导师姓名', width:150, align:'center'}
                    ,{field: 'teacher_job_number', title: '导师工号',align:'center', width:150}
                    ,{field: 'first_dept', title: '一级部门',align:'center', width: 150}
                    ,{field: 'second_dept', title: '二级部门',align:'center', width: 150}
                    ,{fixed: 'right',  align:'center', toolbar: '#barDemo'}
                ]]
            });
  //监听工具条

            table.on('tool(demo)', function(obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                    var data = obj.data //获得当前行数据
                    , layEvent = obj.event; //获得 lay-event 对应的值
                    //console.log(obj);
                    if (layEvent === 'plan') {
                        layer.open({
                            type : 2,
                            area : [ '700px', '450px' ],
                            fixed : false, //不固定
                            maxmin : true,
                            content : '../templates/hr_plan.html?'+'job_number='+data.job_number
                        });
                    } else if (layEvent === 'message') {
                        layer.open({
                            type : 2,
                            area : [ '700px', '450px' ],
                            fixed : false, //不固定
                            maxmin : true,
                            content : '../templates/hr_message.html?'+'job_number='+data.job_number,
                            end : function() {
                                layui.index.render();
                            }
                        });
                        
                    } else if (layEvent === 'summary') {
                        layer.open({
                            type : 2,
                            area : [ '700px', '450px' ],
                            fixed : false, //不固定
                            maxmin : true,
                            content : '../templates/hr_summary.html?'+'job_number='+data.job_number,
                            end : function() {
                                layui.index.render();
                            }
                        });
                    }

            });



            
                            //退出按钮功能
                            $('#sign_out').click(function(){
                                window.open('login.html','_self')
                            });
      });
      </script>
    
</body>
</html>




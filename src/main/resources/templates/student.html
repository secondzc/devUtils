<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="stylesheet" href="../static/layui/css/layui.css"/>
    <title>student</title>
    <style>
    .layui-tab{
        margin:10px auto;
        width:50%;
    }
    header{
        width:1000px;
        margin:0 auto;
    }
    </style>
</head>
<body>
    <header>
        <div class="layui-layout layui-layout-admin">
                <div class="layui-header">
                    <div class="layui-logo">华为实习生管理信息系统</div>
                  <ul class="layui-nav layui-layout-right">
                    <li class="layui-nav-item"><a href="login.html">退出</a></li>
                  </ul>
                </div>
        </div>
    </header>
        <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
                <ul class="layui-tab-title">
                  <li class="layui-this">个人中心</li>
                  <li>培养计划</li>
                  <li>我的留言</li>
                  <li>我的总结</li>
                  <li>申请离职</li>
                </ul>
                <div class="layui-tab-content">
                  
                  <div class="layui-tab-item layui-show">
                    <form class="layui-form" action="">
 <!-------------------------------个人中心------------------------------------------------>
                        <div class="layui-form-item" lay-filter="user_message">
                            <label class="layui-form-label">姓名</label>
                            <div class="layui-input-inline">
                            <input type="text" name="username" required class="layui-input" value="originName"/>
                            </div>

                            <label class="layui-form-label">登录密码</label>
                            <div class="layui-input-inline">
                            <input type="password" name="password" value="111111" lay-verify="required"  class="layui-input" required/>
                            </div>
                        </div>

                        <div class="layui-form-item"  lay-filter="user_message">
                            <label class="layui-form-label">工号</label>
                            <div class="layui-input-inline">
                            <input type="text" name="username" required class="layui-input" value="originName"/>
                            </div>

                            <label class="layui-form-label">联系方式</label>
                            <div class="layui-input-inline">
                            <input type="text" name="password" value="111111" lay-verify="required"  class="layui-input" required/>
                            </div>
                        </div>

                        <div class="layui-form-item" lay-filter="user_message">
                            <label class="layui-form-label">性别</label>
                            <div class="layui-input-inline">
                            <input type="radio" name="sex" value="男" title="男" checked/>
                            <input type="radio" name="sex" value="女" title="女" />
                            </div>

                            <label class="layui-form-label">身份证号</label>
                            <div class="layui-input-inline">
                                <input type="text" name="tele" required class="layui-input" value="12345678900"/>
                            </div>
                        </div>

                        <div class="layui-form-item" lay-filter="user_message">
                            <label class="layui-form-label">邮箱地址</label>
                            <div class="layui-input-inline">
                            <input type="text" name="username" required class="layui-input" value="originName"/>
                            </div>

                            <label class="layui-form-label">学历</label>
                            <div class="layui-input-inline">
                                <select name="city" lay-verify="required">
                                    <option value="0">博士</option>
                                    <option value="1">硕士</option>
                                    <option value="2">本科</option>
                                  </select>
                            </div>
                        </div>
                        
                        <div class="layui-form-item" lay-filter="user_message">
                            <label class="layui-form-label">职业</label>
                            <div class="layui-input-inline">
                                <input type="text" class="layui-input" name="job" value="font-end">
                            </div>

                            <label class="layui-form-label">入职时间</label>
                            <div class="layui-input-inline">
                                <input type="text" class="layui-input" id="date">
                            </div>
                        </div>


                        <div class="layui-form-item" lay-filter="user_message">
                            <div class="layui-input-block">
                            <button class="layui-btn" lay-submit lay-filter="formDemo">保存修改</button>
                            <!--<button type="reset" class="layui-btn layui-btn-primary">申请离职</button>-->
                            </div>
                        </div>

                    </form>
                        
                  </div>

                  <!----------------------------------培养计划------------------------------------>
                  <div class="layui-tab-item">
                      培养计划
                  </div>
                  <!--------------------------------------我的留言------------------------------------------------>
                  <div class="layui-tab-item">
                        <div class="layui-row">
                                <div class="layui-inline">
                                    <button class="layui-btn" data-type="getCheckData" isMaximize="0"
                                            id="add" topHeight="600px">
                                    新增
                                    </button>
                        
                                    <a href="javascript:;" layadmin-event="refresh" title="刷新">
                                        <button class="layui-btn" id="refresh">
                                        刷新
                                        </button>
                                    </a>
                                </div>
                        
                            </div>
                            <table class="layui-hide" id="test" lay-filter="demo">
                            </table>
                            
                  </div>
                  <!-----------------------------------------我的总结---------------------------------------------->
                  <div class="layui-tab-item">
                        <form class="layui-form  layui-form-pane" action="">

                            <div class="layui-form-item  layui-form-text">
                                <label class="layui-form-label">个人总结</label>
                                <div class="layui-input-block">
                                    <textarea name="summary" placeholder="请输入内容" class="layui-textarea" style="height:300px;"></textarea>
                                </div>
                            </div>
   
                            <div class="layui-form-item">
                                <div class="layui-input-block">
                                <button class="layui-btn" lay-submit lay-filter="formDemo" style="float:right;">提交</button>
                                </div>
                            </div>
                        </form>
                  </div>
                    <!---------------------------------申请离职------------------------------------>
                        <div class="layui-tab-item">
                                <form class="layui-form  layui-form-pane" action="">

                                    <div class="layui-form-item">
                                        <label class="layui-form-label">离职时间</label>
                                        <div class="layui-input-block">
                                            <input type="text" class="layui-input" id="leave_date">
                                        </div>
                                    </div>

                                    <div class="layui-form-item  layui-form-text">
                                        <label class="layui-form-label">离职原因</label>
                                        <div class="layui-input-block">
                                            <textarea name="reason" placeholder="请输入内容" class="layui-textarea" style="height:300px;"></textarea>
                                        </div>
                                    </div>
               
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                            <button class="layui-btn" lay-submit lay-filter="formDemo" style="float:right;">申请</button>
                                        </div>
                                    </div>
                                </form>
                        </div>

                </div>
              </div>

              <script src="../static/layui/layui.js"></script>
              <script>
              //注意：选项卡 依赖 element 模块，否则无法进行功能性操作
              layui.use(['element', 'form','laydate',"table","jquery"],function(){
                window.jQuery = window.$ = layui.jquery;
                var element = layui.element,//元素操作
                    form=layui.form,//表单操作
                    laydate=layui.laydate,//日期操作
                    table = layui.table;//表格

                    laydate.render({
                        elem:"#date"//指定日期元素
                    });
                    laydate.render({
                        elem:"#leave_date"//指定日期元素
                    });
                    //修改个人信息  提交到后台 并重新渲染页面
                    form.on('submit(formDemo)',function(data){
                        $.ajax({
                        url: '',
                        dataType: 'json',
                        method: 'GET',
                        success: function(data) {
                            $(data.data).each(function(index){                       
                                form.render(null, 'user_message');
                                layer.msg('修改成功');
                            });
                        },
                        error: function(xhr) {
                            alert('error:请求出错！');
                        }
                    });
                    })

                            //方法渲染，执行一个 table 实例
            table.render({
                elem: '#test'
                ,height: 332
                ,url: '/demo/table/user/' //数据接口
                ,page: true //开启分页
                ,cols: [[ //表头
                    {field: 'id', title: 'ID', width:200, align:'center', sort: true, fixed: 'left'}
                    ,{fixed: 'right', title:'留言', align:'center', toolbar: '#barDemo'}
                ]]
            });

            //监听工具条
            table.on('tool(demo)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data //获得当前行数据
                    ,layEvent = obj.event; //获得 lay-event 对应的值
                if(layEvent === 'detail'){
                    layer.msg('查看操作');
                }
            });


            //新增留言
            $('#add').on('click', function() {
                //layer.msg('Hello World');
                layer.open({
                    type : 2,
                    area : [ '600px', '400px' ],
                    title: ['留言', 'font-size:18px;'],
                    fixed : false, //不固定
                    maxmin : true,
                    content : '../templates/student_add.html',
                    // end : function() {
                    //     layui.index.render();
                    // }
                });
            });
              });
              </script>
                    
    
</body>
</html>